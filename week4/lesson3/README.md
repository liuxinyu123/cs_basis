# 第三讲    
## 浮点运算及结果    
* 设两个规格化浮点数分别为A=Ma * 2^Ea, B=Mb * 2^Eb,则   
> A + B = (A + B * 2^(Eb-Ea)) * 2^Ea   (Ea > Eb)  减法类似    
> A * B = Ma * Mb * 2^(Ea+Eb)     
> A / B = Ma/Mb * 2^(Ea-Eb)    

* 上述运算可能出现如下几种情况    
> - 阶码上溢：一个正指数超过最大允许值   (32位最大允许值为127)     
> - 阶码下溢：一个负指数超过最小允许值   (32位最小允许值为-126)
> - 尾数溢出：最高有效位有进位，进行右规(尾数右移，阶码加相应值)   
> - 非规格化尾数：尾数数值部分最高位为0，进行左规(尾数左移，阶码减相应值)     
> > 右规或者对阶时，因为尾数舍入，右段有效位丢失，解决办法是在运算过程中添加**保护位**，在运算过程中保留这些溢出位，直到最后给出运算结果时，才进行舍入。      

### IEEE754规定的五种异常情况   
1. 无效运算    
> - 运算时有一个数是非有限值  比如 加减一个∞  ，0 * ∞ ，∞／∞     
> - 结果无效    源操作数是NaN， 0/0， x%0, ∞%y      

2. 除以0 (结果为无穷大)
3. 数太大，阶码上溢(超过127)    
4. 数太小，阶码下溢(低于-126)   
5. 结果不精确(舍入时引起)  例如1/3,1/10不能精确表示成浮点数   
> 上述情况硬件可以捕捉到，因此这些异常可以让硬件来处理，也可以让软件来处理。让硬件处理时，称为硬件陷阱。      



